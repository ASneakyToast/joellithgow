var u=Object.defineProperty;var f=(a,e,t)=>e in a?u(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var c=(a,e,t)=>f(a,typeof e!="symbol"?e+"":e,t);class m{constructor(){c(this,"observers");c(this,"isInitialized");c(this,"scrollTicking");c(this,"prefersReducedMotion");this.observers=new Map,this.isInitialized=!1,this.scrollTicking=!1,this.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.init()}init(){this.isInitialized||(console.log("Initializing UI Interactions Manager"),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.setupInteractions()):this.setupInteractions(),this.isInitialized=!0)}setupInteractions(){this.initScrollAnimations(),this.initSmoothScrolling(),this.initScrollSpy(),this.initParallaxEffects(),this.initCursorTrail(),this.initInteractiveElements(),this.initPerformanceOptimizations(),this.initAccessibilityFeatures()}initScrollAnimations(){if(this.prefersReducedMotion)return;const e={threshold:.1,rootMargin:"0px 0px -50px 0px"},t=new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting&&(s.target.classList.add("in-view"),t.unobserve(s.target))})},e);document.querySelectorAll(".animate-on-scroll").forEach(n=>{t.observe(n)}),this.observers.set("animation",t)}initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=document.querySelector(e.getAttribute("href"));n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),this.updateActiveNavigation(e.getAttribute("href")))})})}updateActiveNavigation(e){document.querySelectorAll(".nav-link").forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===e&&t.classList.add("active")})}initScrollSpy(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-link");if(e.length===0||t.length===0)return;const n={threshold:[.1,.25,.5],rootMargin:"-10% 0px -40% 0px"},s=new IntersectionObserver(r=>{r.forEach(o=>{if(o.isIntersecting){const i=o.target.id;this.updateActiveNavigation(`#${i}`)}})},n);e.forEach(r=>{s.observe(r)}),window.addEventListener("scroll",()=>{window.scrollY<200&&t.forEach(r=>r.classList.remove("active"))}),this.observers.set("spy",s)}initParallaxEffects(){if(this.prefersReducedMotion)return;const e=document.querySelectorAll(".floating-element");if(e.length===0)return;const t=()=>{const s=window.pageYOffset;e.forEach((r,o)=>{const i=.3*(o+1),l=12+o*3;r.style.transform=`translateY(${s*i}px) rotate(${l}deg)`}),this.scrollTicking=!1},n=()=>{this.scrollTicking||(requestAnimationFrame(t),this.scrollTicking=!0)};window.addEventListener("scroll",n,{passive:!0})}initCursorTrail(){if(this.prefersReducedMotion)return;let e=[];const t=5;let n=0;const s=(r,o)=>{const i=document.createElement("div");if(i.className="cursor-trail",i.style.left=`${r-3}px`,i.style.top=`${o-3}px`,document.body.appendChild(i),e.push(i),e.length>t){const l=e.shift();l&&l.parentNode&&l.parentNode.removeChild(l)}setTimeout(()=>{i.style.opacity="0",i.style.transform="scale(0)"},50),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},350)};document.addEventListener("mousemove",r=>{const o=Date.now();o-n>50&&(s(r.clientX,r.clientY),n=o)},{passive:!0})}initInteractiveElements(){document.querySelectorAll(".tech-tag").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.1)",e.style.background="var(--accent-secondary)",e.style.color="var(--text-light)"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)",e.style.background="",e.style.color=""})}),document.querySelectorAll(".skill-item").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.1)",e.style.background="var(--accent-primary)",e.style.color="var(--text-light)"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)",e.style.background="",e.style.color=""})}),document.querySelectorAll(".contact-method").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.05) rotate(0deg)"}),e.addEventListener("mouseleave",()=>{const n=e.style.transform.match(/rotate\(([^)]+)\)/),s=n?n[1]:"1deg";e.style.transform=`rotate(${s})`})})}initPerformanceOptimizations(){document.querySelectorAll(".floating-element, .project-card").forEach(t=>{t.classList.add("will-change-transform")});const e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting?n.target.style.willChange="transform":n.target.style.willChange="auto"})});document.querySelectorAll(".animate-on-scroll, .floating-element").forEach(t=>{e.observe(t)}),this.observers.set("performance",e),document.addEventListener("visibilitychange",()=>{document.hidden?document.querySelectorAll(".floating-element").forEach(t=>{t.style.animationPlayState="paused"}):document.querySelectorAll(".floating-element").forEach(t=>{t.style.animationPlayState="running"})})}initAccessibilityFeatures(){document.addEventListener("focusin",t=>{const n=t.target;n.classList.contains("floating-element")&&(n.style.boxShadow="0 0 0 3px var(--accent-primary)")}),document.addEventListener("focusout",t=>{const n=t.target;n.classList.contains("floating-element")&&(n.style.boxShadow="")}),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",t=>{this.prefersReducedMotion=t.matches,this.prefersReducedMotion&&this.disableAnimations()})}disableAnimations(){document.querySelectorAll(".animate-on-scroll").forEach(e=>{e.style.animation="none",e.style.transition="none"})}destroy(){this.observers.forEach(e=>{e.disconnect()}),this.observers.clear(),this.isInitialized=!1}}const d=new m;window.uiInteractionsManager=d;window.addEventListener("beforeunload",()=>{d.destroy()});
